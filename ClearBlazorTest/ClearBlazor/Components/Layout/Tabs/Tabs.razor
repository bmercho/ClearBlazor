@using System.Text
@namespace ClearBlazor
@inherits ClearComponentBase

<CascadingValue Value="this" IsFixed="false">
    <div id=@Id class="@Classes" style="@ComputeStyle()">
        <Grid Name="Grid in Tabs" Rows="auto,*" CornerRadius=@GridCornerRadius BackgroundColour=@BackgroundColour>
            <WrapPanel Name="WrapPanel in Tabs" CornerRadius=@GridCornerRadius VerticalAlignment="Alignment.Start">
                @foreach (Tab tabPage in Pages)
                {
                    <TabButton Name="TabButton in Tabs" Size=@Size ButtonStyle="TextEditFillMode.None" IsFirstTab=@(Pages.First()==tabPage)
                               IsLastTab=@(Pages.Last()==tabPage)
                               Icon=@tabPage.Icon
                               IconColour=@GetButtonColour(tabPage)
                               Colour=@GetButtonColour(tabPage)
                               ToolTip=@tabPage.ToolTip
                               IsActive=@(tabPage == ActivePage) Disabled="@tabPage.Disabled"
                               OnClicked="@(e => ActivatePage(tabPage))">
                        @tabPage?.Text
                    </TabButton>
                }
            </WrapPanel>
            <Grid Name="Grid in Tabs" Row=1>
                @ChildContent
            </Grid>
        </Grid>
    </div>
</CascadingValue>
