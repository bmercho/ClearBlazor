@namespace ClearBlazorSkia.Tests
@using ClearBlazor
@using ClearBlazorSkia.Tests.Tests
@inherits TestBase
<RootComponent Name="Root" @ref=_rootComponent Width=800 Height=600 
BackgroundColor=@Color.Custom("green") 
LayoutComplete=@LayoutComplete>
    <Grid Name="Grid1" BackgroundColor=@Color.Custom("red") Margin=10 BorderThickness=5 
    HorizontalAlignment=Alignment.Stretch
    VerticalAlignment=Alignment.Stretch>
        <Grid Name="Grid2" BackgroundColor=@Color.Custom("blue") Width=300 Height=200 ></Grid>
    </Grid>
</RootComponent>


@code {

    RootComponent _rootComponent = null!;

    private async Task LayoutComplete()
    {
        bool testPassed = CheckComponentLocation(_rootComponent, 800, 600, 0, 0,0,0,800,600);
        if (_rootComponent.Children.Count != 1)
        {
            testPassed = false;
            return;
        }
        Grid? grid1 = _rootComponent.Children[0] as Grid;
        if (grid1 == null)
        {
            testPassed = false;
            return;
        }
        if (grid1.Children.Count != 1)
            testPassed = false;
        Grid? grid2 = grid1.Children[0] as Grid;
        if (grid2 == null)
        {
            testPassed = false;
            return;
        }

        testPassed &= CheckComponentLocation(grid1, 780, 580, 10, 10,0,0,780,580 );

        testPassed &= CheckComponentBorder(grid1, 5, 5, 5, 5); 

        testPassed &= CheckComponentLocation(grid2, 300, 200, 240, 190,0,0,300,200 );

        await TestComplete.InvokeAsync(testPassed);
    }
}