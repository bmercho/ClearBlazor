@page "/"
@namespace VirtualizeDemo
@using Microsoft.AspNetCore.SignalR.Client

<RootComponent>
    <WrapPanel>
         <StackPanel Orientation=Orientation.Portrait>
           <TextBlock HorizontalAlignment=Alignment.Center Typo=Typo.H6>From database</TextBlock>
            <ListView Name="InfiniteScroller" VirtualizeMode=VirtualizeMode.InfiniteScroll
                      Height =600 Width=800 CornerRadius=4 BoxShadow=4 Margin=10 Padding=10
                      DataProvider=@GetItemsFromDatabase PageSize=10 ShowLoadingSpinner=true>
                <RowTemplate Context=row>
                    <Grid Columns="auto,*" Margin=20 Padding=10 CornerRadius=8 BoxShadow=4>
                        <Image Height=75 Width=75 VerticalAlignment=Alignment.Center
                               Style="border-radius:50%; " Stretch=ImageStretch.Fill
                               Source=@($"https://picsum.photos/id/{row.ElementId}/200/200") />

                        <StackPanel Column=1 Orientation=Orientation.Portrait>
                            <TextBlock Typo=Typo.H6 TextWrapping=TextWrap.Wrap Margin="0,0,10,10">
                                @row.Title
                            </TextBlock>
                            <TextBlock Column=1 TextWrapping=TextWrap.Wrap Margin="0,0,0,10">
                                @row.Message
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </RowTemplate>
            </ListView>
            <CheckBox @bind-Checked=_addDelay @bind-Checked:after=Refresh Label="Add delay" />

    </StackPanel>
         <StackPanel Orientation=Orientation.Portrait>
            <TextBlock HorizontalAlignment=Alignment.Center Typo=Typo.H6>Local data</TextBlock>
            <ListView Name="InfiniteScroller" VirtualizeMode=VirtualizeMode.InfiniteScroll
                      Height=600 Width=800 CornerRadius=4 BoxShadow=4 Margin=10 Padding=10
                                  DataProvider=@GetItemsLocally PageSize=10 ShowLoadingSpinner=false>
                <RowTemplate Context=row>
                    <Grid Columns="auto,*" Margin=20 Padding=10 CornerRadius=8 BoxShadow=4>
                        <Image Height=75 Width=75 VerticalAlignment=Alignment.Center
                               Style="border-radius:50%; " Stretch=ImageStretch.Fill
                               Source=@($"https://picsum.photos/id/{row.ElementId}/200/200") />

                        <StackPanel Column=1 Orientation=Orientation.Portrait>
                            <TextBlock Typo=Typo.H6 TextWrapping=TextWrap.Wrap Margin="0,0,10,10">
                                @row.Title
                            </TextBlock>
                            <TextBlock Column=1 TextWrapping=TextWrap.Wrap Margin="0,0,0,10">
                                @row.Message
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </RowTemplate>
            </ListView>

        </StackPanel>
    </WrapPanel>
 
</RootComponent>
