@namespace ClearBlazorSkia.Tests
@using ClearBlazor
@using ClearBlazorSkia.Tests.Tests
@inherits TestBase
<RootComponent @ref=_rootComponent Width=800 Height=600 
               BackgroundColor=@Color.Custom("green") LayoutComplete=@LayoutComplete>
    <StackPanel Orientation=StackOrientation.Vertical BackgroundColor=@Color.Custom("red")>
        <Grid Height=50 BackgroundColor=@Color.Custom("yellow")/>
        <Grid Height=100 BackgroundColor=@Color.Custom("blue") />
        <Grid Height=75 BackgroundColor=@Color.Custom("pink") />
    </StackPanel>
                
</RootComponent>


@code {

    RootComponent _rootComponent = null!;

    private async Task LayoutComplete()
    {
        bool testPassed = CheckComponentLocation(_rootComponent, 800, 600, 0, 0);
        if (_rootComponent.Children.Count != 1 || !(_rootComponent.Children[0] is Grid))
            testPassed = false;
        testPassed &= CheckComponentLocation(_rootComponent.Children[0], 775, 575, 20, 10);

        testPassed &= CheckComponentBorder(_rootComponent.Children[0], 5, 10, 15, 20); 
        await TestComplete.InvokeAsync(testPassed);
    }
}